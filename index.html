<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-NGO RAG Application</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .chat-container {
            max-height: 70vh;
            overflow-y: auto;
        }
        .message {
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 0.5rem;
        }
        .user-message {
            background-color: #3b82f6;
            color: white;
            margin-left: 20%;
        }
        .assistant-message {
            background-color: #f3f4f6;
            color: #374151;
            margin-right: 20%;
        }
        .loading {
            display: none;
        }
        .spinner {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3498db;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">E-NGO RAG Application</h1>
            <p class="text-gray-600">AI-powered Q&A system for NGO standards and regulations</p>
        </div>

        <!-- Chat Interface -->
        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg">
            <!-- Chat Messages -->
            <div id="chatMessages" class="chat-container p-6">
                <div class="message assistant-message">
                    <strong>Assistant:</strong> Hello! I'm your AI assistant for NGO standards and regulations. How can I help you today?
                </div>
            </div>

            <!-- Input Area -->
            <div class="border-t p-6">
                <div class="flex gap-4">
                    <input 
                        type="text" 
                        id="messageInput" 
                        placeholder="Ask a question about NGO standards..."
                        class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        onkeypress="handleKeyPress(event)"
                    >
                    <button 
                        onclick="sendMessage()" 
                        class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                        Send
                    </button>
                </div>
                
                <!-- Loading Indicator -->
                <div id="loading" class="loading mt-4 flex items-center gap-2 text-gray-600">
                    <div class="spinner"></div>
                    <span>Thinking...</span>
                </div>
            </div>
        </div>

        <!-- Information Section -->
        <div class="max-w-4xl mx-auto mt-8">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">About This Application</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-700 mb-2">Features</h3>
                        <ul class="list-disc list-inside text-gray-600 space-y-1">
                            <li>AI-powered document Q&A</li>
                            <li>Hybrid retrieval system</li>
                            <li>Source attribution</li>
                            <li>Multi-language support</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-gray-700 mb-2">Example Questions</h3>
                        <ul class="list-disc list-inside text-gray-600 space-y-1">
                            <li>"What are NGO registration requirements?"</li>
                            <li>"How to handle grant accounting?"</li>
                            <li>"Compliance requirements for NGOs"</li>
                            <li>"Foreign donor fund management"</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Demo Notice -->
        <div class="max-w-4xl mx-auto mt-8">
            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-yellow-800 mb-2">Demo Version</h3>
                <p class="text-yellow-700">
                    This is a static demo version. For the full interactive experience with AI-powered responses, 
                    please visit the live Streamlit application at: 
                    <a href="https://share.streamlit.io" class="text-blue-600 hover:underline">Streamlit Community Cloud</a>
                </p>
            </div>
        </div>
    </div>

    <script>
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) return;

            // Add user message to chat
            addMessage('user', message);
            
            // Clear input
            input.value = '';
            
            // Show loading
            document.getElementById('loading').style.display = 'flex';
            
            // Simulate AI response (in real app, this would call your API)
            setTimeout(() => {
                const responses = [
                    "Based on NGO standards, here are the key requirements for registration...",
                    "For grant accounting, you should maintain detailed records of all transactions...",
                    "Compliance requirements include regular reporting, financial transparency...",
                    "Foreign donor funds must be properly documented and reported according to regulations..."
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addMessage('assistant', randomResponse);
                
                // Hide loading
                document.getElementById('loading').style.display = 'none';
            }, 2000);
        }

        function addMessage(sender, content) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            
            if (sender === 'user') {
                messageDiv.className = 'message user-message';
                messageDiv.innerHTML = `<strong>You:</strong> ${content}`;
            } else {
                messageDiv.className = 'message assistant-message';
                messageDiv.innerHTML = `<strong>Assistant:</strong> ${content}`;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
    </script>
</body>
</html>
